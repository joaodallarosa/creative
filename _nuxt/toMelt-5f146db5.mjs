const c=700;class g{constructor(e,r){this.toMove=[],this.groupCounter=1,this.dripCounter=0,this.speed=.015,this.speedIncrease=0,this.dripsPerSec=1,this.groupIncrease=0,this.startGroupingAt=0,this.frame=0,this.addVerticeToMelt=t=>{const u=Math.floor(Math.random()*this.yPoints.length);for(let s=0;s<Math.floor(t);s++)this.toMove.push(this.yPoints.splice(u,1))},this.move=()=>{this.frame++,this.speed+=this.speedIncrease,this.dripCounter+=this.dripsPerSec,this.dripCounter>=60&&(this.addVerticeToMelt(this.groupCounter),this.frame/60>=this.startGroupingAt&&(this.groupCounter+=this.groupIncrease),this.dripCounter=0),this.toMove.forEach(t=>{this.obj.geometry.attributes.position.array[t]-=this.speed}),this.obj.geometry.attributes.position.needsUpdate=!0},this.obj=e;const i=Array.from(Array(this.obj.geometry.attributes.position.array.length).keys());this.yPoints=i.filter(t=>t%3===1);const{speed:o,speedIncrease:h,dripsPerSec:a,groupIncrease:n,startGroupingAt:p}=r;this.speed=o,this.speedIncrease=h,this.dripsPerSec=a,this.groupIncrease=n,this.startGroupingAt=p}}export{c as C,g as T};
